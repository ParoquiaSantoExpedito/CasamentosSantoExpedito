<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Calendário 2026 - Maringá - Disponibilidade Casamento</title>
  <style>
    :root {
      --terracota: #E2725B;
      --caramelo: #FFD59A;
      --terracota-escuro: #C14F3C;
      --caramelo-escuro: #D9A066;
      --facultativo: #FFF3DD;
      --religioso: #E9C3A4;
      --fundo: #F4E1C1; /* fundo caramelo mais marrom suave */
      --texto: #3C2F2F;
      --verde-disponivel: #6ABD88;
      --vermelho-indisponivel: #D94A4A;
      --branco-neutro: white;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--fundo);
      margin: 0;
      padding: 2rem;
      color: var(--texto);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      user-select: none;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }

    h1 {
      text-align: center;
      color: var(--terracota);
      margin-bottom: 2rem;
      user-select: text;
    }

    .ano {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      max-width: 1200px;
      margin: 0 auto;
      flex-grow: 1;
    }

    .mes {
      background-color: var(--caramelo);
      border: 2px solid var(--caramelo-escuro);
      border-radius: 8px;
      padding: 1rem;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
      user-select: none;
    }

    .mes h2 {
      text-align: center;
      margin: 0 0 1rem 0;
      color: var(--terracota);
      font-size: 1.2rem;
      user-select: text;
    }

    .dias-semana {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      font-weight: bold;
      text-align: center;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
      user-select: text;
    }

    .dias {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      text-align: center;
      gap: 0.2rem;
    }

    .dia {
      padding: 0.5rem;
      border-radius: 4px;
      background-color: var(--branco-neutro);
      cursor: pointer;
      transition: background-color 0.3s ease, color 0.3s ease;
      user-select: text;
      box-sizing: border-box;
      border: 1px solid transparent;
      position: relative;
      font-weight: normal;
      color: var(--texto);
    }

    .dia.vazio {
      background-color: transparent;
      cursor: default;
      border: none;
      user-select: none;
    }

    /* Feriados */
    .feriado-nacional {
      background-color: var(--terracota-escuro);
      color: white;
      font-weight: bold;
      cursor: default;
    }

    .feriado-municipal {
      background-color: var(--caramelo-escuro);
      color: white;
      font-weight: bold;
      cursor: default;
    }

    .facultativo {
      background-color: var(--facultativo);
      border: 1px dashed var(--caramelo-escuro);
      font-style: italic;
      cursor: default;
      color: var(--texto);
    }

    .feriado-religioso {
      background-color: var(--religioso);
      font-weight: bold;
      cursor: default;
      color: var(--texto);
    }

    /* Estados de disponibilidade - sobrescrevem outras cores ao clicar */
    .disponivel {
      background-color: var(--verde-disponivel) !important;
      color: white !important;
      font-weight: bold !important;
      cursor: pointer;
      border: 2px solid #3B7A53 !important;
    }

    .indisponivel {
      background-color: var(--vermelho-indisponivel) !important;
      color: white !important;
      font-weight: bold !important;
      cursor: pointer;
      border: 2px solid #7A3B3B !important;
    }

    /* Cursor e seleção para feriados não clicáveis */
    .dia.feriado-nacional,
    .dia.feriado-municipal,
    .dia.facultativo,
    .dia.feriado-religioso {
      cursor: default;
    }

    /* Legenda */
    .legenda {
      max-width: 800px;
      margin: 2rem auto 1rem auto;
      font-size: 0.9rem;
      user-select: text;
    }

    .legenda div {
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
    }

    .cor-box {
      display: inline-block;
      width: 18px;
      height: 18px;
      margin-right: 0.5rem;
      vertical-align: middle;
      border-radius: 4px;
      border: 1px solid #b59b7e;
      box-sizing: border-box;
    }

    /* Área senha no rodapé */
    footer {
      background: #C14F3C;
      padding: 1rem 2rem;
      color: white;
      text-align: center;
      user-select: text;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
      margin-top: 2rem;
      border-radius: 0 0 8px 8px;
    }

    footer input[type="password"] {
      padding: 0.4rem 0.6rem;
      font-size: 1rem;
      border-radius: 4px;
      border: none;
      margin-right: 0.6rem;
      outline: none;
      max-width: 120px;
    }

    footer button {
      padding: 0.4rem 1rem;
      font-size: 1rem;
      border-radius: 4px;
      border: none;
      background-color: var(--caramelo-escuro);
      color: var(--terracota);
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    footer button:hover {
      background-color: var(--terracota-escuro);
      color: white;
    }

    footer .msg {
      margin-top: 0.6rem;
      font-weight: bold;
    }

    /* Desabilitar pointer-events no modo espectador para dias clicáveis */
    .no-edit .dia:not(.feriado-nacional):not(.feriado-municipal):not(.facultativo):not(.feriado-religioso) {
      pointer-events: none;
      cursor: default;
      opacity: 0.85;
    }
  </style>
</head>
<body>
  <h1>Calendário 2026 – Maringá (Disponibilidade para Casamento)</h1>
  <div class="ano no-edit" id="calendario"></div>

  <div class="legenda">
    <h3>Legenda:</h3>
    <div><span class="cor-box" style="background-color:#C14F3C;"></span>Feriado Nacional</div>
    <div><span class="cor-box" style="background-color:#D9A066;"></span>Feriado Municipal (Maringá)</div>
    <div><span class="cor-box" style="background-color:#E9C3A4;"></span>Feriado Religioso</div>
    <div><span class="cor-box" style="background-color:#FFF3DD; border: 1px dashed #D9A066;"></span>Ponto Facultativo</div>
    <div><span class="cor-box" style="background-color:#6ABD88;"></span>Disponível para Casamento</div>
    <div><span class="cor-box" style="background-color:#D94A4A;"></span>Indisponível para Casamento</div>
  </div>

  <footer>
    <label for="senhaInput">Digite a senha para ativar o modo editor:</label>
    <input type="password" id="senhaInput" placeholder="Senha" autocomplete="off" />
    <button id="entrarBtn">Entrar</button>
    <div class="msg" id="msg"></div>
  </footer>

<script>
  const meses = [
    "Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho",
    "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"
  ];

  const diasSemana = ["D", "S", "T", "Q", "Q", "S", "S"];

  const ano = 2026;
  const containerAno = document.getElementById('calendario');

  // Feriados no formato MM-DD com tipos
  const feriados = {
    '01-01': ['nacional'],
    '02-16': ['facultativo'],
    '02-17': ['facultativo'],
    '02-18': ['facultativo'],
    '04-03': ['nacional', 'religioso'], // Sexta-feira Santa
    '04-21': ['nacional'],
    '05-01': ['nacional'],
    '05-10': ['municipal'],
    '06-04': ['facultativo', 'religioso'], // Corpus Christi
    '08-15': ['municipal', 'religioso'],   // Nossa Senhora da Glória
    '09-07': ['nacional'],
    '10-12': ['nacional', 'religioso'],    // Nossa Senhora Aparecida
    '10-15': ['facultativo'],
    '10-28': ['facultativo'],
    '11-02': ['nacional', 'religioso'],    // Finados
    '11-15': ['nacional'],
    '11-20': ['nacional'],
    '12-24': ['facultativo'],
    '12-25': ['nacional', 'religioso'],    // Natal
    '12-31': ['facultativo']
  };

  // LocalStorage key para salvar disponibilidade
  const storageKey = 'disponibilidadeCasamento2026';

  // Carrega estado salvo do localStorage
  let disponibilidadeSalva = JSON.parse(localStorage.getItem(storageKey) || "{}");

  // Estado do modo editor
  let modoEditor = false;

  // Função para criar o calendário
  function criarCalendario() {
    containerAno.innerHTML = '';

    for(let m=0; m < 12; m++) {
      const mesDiv = document.createElement('div');
      mesDiv.className = 'mes';

      // Título do mês
      const titulo = document.createElement('h2');
      titulo.textContent = meses[m];
      mesDiv.appendChild(titulo);

      // Dias da semana
      const cabecalhoDias = document.createElement('div');
      cabecalhoDias.className = 'dias-semana';
      diasSemana.forEach(d => {
        const diaLetra = document.createElement('div');
        diaLetra.textContent = d;
        cabecalhoDias.appendChild(diaLetra);
      });
      mesDiv.appendChild(cabecalhoDias);

      // Dias do mês
      const diasGrid = document.createElement('div');
      diasGrid.className = 'dias';

      const primeiroDia = new Date(ano, m, 1).getDay(); // 0 (dom) a 6 (sab)
      const qtdDias = new Date(ano, m + 1, 0).getDate();

      // Ajustar para nosso calendário domingo=0 ... já está certo

      // Espaços vazios antes do primeiro dia
      for(let i=0; i<primeiroDia; i++) {
        const vazio = document.createElement('div');
        vazio.className = 'dia vazio';
        vazio.textContent = '';
        diasGrid.appendChild(vazio);
      }

      // Criar dias
      for(let d=1; d <= qtdDias; d++) {
        const diaDiv = document.createElement('div');
        diaDiv.className = 'dia';
        diaDiv.textContent = d;

        // Data no formato MM-DD (com zero à esquerda)
        const mm = (m+1).toString().padStart(2, '0');
        const dd = d.toString().padStart(2, '0');
        const dataStr = `${mm}-${dd}`;

        // Verifica se é sábado para possível casamento (vai ficar clicável se modoEditor = true)
        const dataObj = new Date(ano, m, d);
        const diaSemana = dataObj.getDay();

        // Marca feriados
        if(feriados[dataStr]) {
          const tipos = feriados[dataStr];
          if(tipos.includes('nacional')) {
            diaDiv.classList.add('feriado-nacional');
          }
          if(tipos.includes('municipal')) {
            diaDiv.classList.add('feriado-municipal');
          }
          if(tipos.includes('facultativo')) {
            diaDiv.classList.add('facultativo');
          }
          if(tipos.includes('religioso')) {
            diaDiv.classList.add('feriado-religioso');
          }
        }

        // Só permite clicar para marcar disponibilidade em sábados que NÃO são feriados
        // (Feriados não clicáveis)
        if(diaSemana === 6 && !diaDiv.classList.contains('feriado-nacional') && !diaDiv.classList.contains('feriado-municipal') && !diaDiv.classList.contains('facultativo') && !diaDiv.classList.contains('feriado-religioso')) {
          diaDiv.dataset.clicavel = 'true';
          diaDiv.style.cursor = modoEditor ? 'pointer' : 'default';
        } else {
          diaDiv.dataset.clicavel = 'false';
          diaDiv.style.cursor = 'default';
        }

        // Aplica estado salvo (disponível ou indisponível)
        if(disponibilidadeSalva[dataStr] === 'disponivel') {
          diaDiv.classList.add('disponivel');
        } else if(disponibilidadeSalva[dataStr] === 'indisponivel') {
          diaDiv.classList.add('indisponivel');
        }

        diasGrid.appendChild(diaDiv);
      }

      mesDiv.appendChild(diasGrid);
      containerAno.appendChild(mesDiv);
    }
  }

  criarCalendario();

  // Atualiza os cursos e pointer-events conforme o modo
  function atualizarModo() {
    if(modoEditor) {
      containerAno.classList.remove('no-edit');
      // Atualiza cursores para dias clicáveis
      document.querySelectorAll('.dia').forEach(diaDiv => {
        if(diaDiv.dataset.clicavel === 'true') {
          diaDiv.style.cursor = 'pointer';
        } else {
          diaDiv.style.cursor = 'default';
        }
      });
    } else {
      containerAno.classList.add('no-edit');
      // Desabilita clique e muda cursor
      document.querySelectorAll('.dia').forEach(diaDiv => {
        diaDiv.style.cursor = 'default';
      });
    }
  }

  atualizarModo();

  // Interação clique para marcar dias (apenas modo editor)
  containerAno.addEventListener('click', e => {
    if(!modoEditor) return;

    const el = e.target;
    if(el.classList.contains('dia') && el.dataset.clicavel === 'true') {
      // Alternar estados: nada -> disponivel -> indisponivel -> nada
      if(el.classList.contains('disponivel')) {
        el.classList.remove('disponivel');
        el.classList.add('indisponivel');
        salvarEstado(el, 'indisponivel');
      } else if(el.classList.contains('indisponivel')) {
        el.classList.remove('indisponivel');
        salvarEstado(el, null);
      } else {
        el.classList.add('disponivel');
        salvarEstado(el, 'disponivel');
      }
    }
  });

  // Salva estado no localStorage
  function salvarEstado(diaEl, estado) {
    // Identifica a data
    // Precisamos do mês e dia
    // Vamos pegar mês pelo elemento pai: h2 do mês, e o dia pelo texto do elemento
    let mesEl = diaEl.closest('.mes').querySelector('h2').textContent;
    let diaNum = diaEl.textContent;

    let mesIdx = meses.indexOf(mesEl) + 1; // 1-based
    let mm = mesIdx.toString().padStart(2, '0');
    let dd = diaNum.toString().padStart(2, '0');
    let chave = `${mm}-${dd}`;

    if(estado) {
      disponibilidadeSalva[chave] = estado;
    } else {
      delete disponibilidadeSalva[chave];
    }

    localStorage.setItem(storageKey, JSON.stringify(disponibilidadeSalva));
  }

  // Login/Modo editor com senha
  const senhaCorreta = '1904';
  const senhaInput = document.getElementById('senhaInput');
  const entrarBtn = document.getElementById('entrarBtn');
  const msgDiv = document.getElementById('msg');

  entrarBtn.addEventListener('click', () => {
    const senha = senhaInput.value.trim();
    if(senha === senhaCorreta) {
      modoEditor = true;
      atualizarModo();
      msgDiv.style.color = '#6ABD88';
      msgDiv.textContent = 'Modo editor ativado! Clique nos sábados para marcar disponibilidade.';
      senhaInput.value = '';
      senhaInput.disabled = true;
      entrarBtn.disabled = true;
    } else {
      msgDiv.style.color = '#D94A4A';
      msgDiv.textContent = 'Senha incorreta. Tente novamente.';
      senhaInput.value = '';
      senhaInput.focus();
    }
  });

</script>
</body>
</html>
